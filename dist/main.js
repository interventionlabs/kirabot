!function(e){var t={};function i(n){if(t[n])return t[n].exports;var r=t[n]={i:n,l:!1,exports:{}};return e[n].call(r.exports,r,r.exports,i),r.l=!0,r.exports}i.m=e,i.c=t,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},i.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)i.d(n,r,function(t){return e[t]}.bind(null,r));return n},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="",i(i.s=11)}([function(e,t,i){"use strict";function n(e){return e&&"object"==typeof e&&"default"in e?e.default:e}var r=n(i(1)),a=n(i(2)),o=n(i(3)),u=n(i(4)),s=n(i(5)),c=n(i(6)),f=n(i(7)),d=i(8),l=i(9),h=n(i(10));function m(e){return null==e||"object"!=typeof e?e:Array.isArray(e)?e.map(e=>m(e)):Object.keys(e).reduce((t,i)=>{const n=a(i);return"object"==typeof e[i]?{...t,[n]:m(e[i])}:{...t,[n]:e[i]}},{})}const p=(e,t,i={stdinBuffer:void 0,onStdOut:void 0})=>{const n=[...t];e&&n.unshift("--home",e);const r=l.spawn("keybase",n),a=[],o=[];i.stdinBuffer&&r.stdin.write(i.stdinBuffer),r.stdin.end();const u=h.createInterface({input:r.stdout});return i.onStdOut?u.on("line",i.onStdOut):r.stdout.on("data",e=>{a.push(e)}),r.stderr.on("data",e=>{o.push(e)}),new Promise((e,t)=>{r.on("close",n=>{let r=null;if(n){const e=Buffer.concat(o).toString("utf8");t(new Error(e))}else{const e=Buffer.concat(a).toString("utf8");try{r=i.json?JSON.parse(e):e}catch(e){t(e)}}e(r)})})};async function x(e){const t=await p(e,["status","--json"],{json:!0});if(t&&t.Username&&t.Device&&t.Device.name)return{username:t.Username,devicename:t.Device.name,homeDir:e};throw new Error("Failed to get current username and device name.")}function w(e){return new Promise(t=>{setTimeout(()=>{t()},e)})}class b{constructor(){this.initialized=!1,this.verbose=!1}async init(e,t,i){if(!e||"string"!=typeof e)throw new Error(`Please provide a username to initialize the bot. Got: ${JSON.stringify(e)}`);if(!t||"string"!=typeof t)throw new Error("Please provide a paperkey to initialize the bot.");if(this.initialized)throw new Error("Cannot initialize an already initialized bot.");this.homeDir=function(){const e=s.randomBytes(16).toString("hex");return c.join(u.tmpdir(),`keybase_bot_${e}`)}(),this.serviceLogFile=c.join(this.homeDir,"Library","Logs","keybase.service.log");try{await this.startupService(),await p(this.homeDir,["oneshot","--username",e],{stdinBuffer:t});const n=await x(this.homeDir);if(n&&n.username&&n.devicename&&(this.initialized="paperkey",this.username=n.username,this.devicename=n.devicename,this.verbose=!!i&&Boolean(i.verbose)),this.username!==e)throw new Error("Failed to initialize service.")}catch(e){throw await this._killCustomService(),e}}async initFromRunningService(e,t){if(this.initialized)throw new Error("Cannot initialize an already initialized bot.");this.homeDir=e;const i=await x(this.homeDir);i&&i.username&&i.devicename&&(this.initialized="runningService",this.username=i.username,this.devicename=i.devicename,this.verbose=!!t&&Boolean(t.verbose))}async _killCustomService(){try{await p(this.homeDir,["logout"])}catch(e){}try{await p(this.homeDir,["ctl","stop","--shutdown"])}catch(e){}this.homeDir&&await async function e(t){const i=d.promisify(f.lstat),n=d.promisify(f.unlink),r=d.promisify(f.rmdir),a=d.promisify(f.readdir);if(await i(t)){for(const r of await a(t)){const a=c.join(t,r);(await i(a)).isDirectory()?await e(a):await n(a)}await r(t)}}(this.homeDir)}async deinit(){if(!this.initialized)throw new Error("Cannot deinitialize an uninitialized bot.");"paperkey"===this.initialized&&await this._killCustomService(),this.initialized=!1}myInfo(){return this.username&&this.devicename?{username:this.username,devicename:this.devicename,homeDir:this.homeDir?this.homeDir:void 0}:null}async startupService(){const e=["service"];this.homeDir&&e.unshift("--home",this.homeDir),this.serviceLogFile&&e.unshift("-d","--log-file",this.serviceLogFile);const t=l.spawn("keybase",e,{env:Object.assign({KEYBASE_DISABLE_TEAM_AUDITOR:1},process.env)});if(this.serviceLogFile){const e=this.serviceLogFile;let t=0;for(;;){await w(10);try{await d.promisify(f.stat)(e);break}catch(e){if(++t>=1e3)throw new Error("Couldn't start up service fast enough")}}}const i=this.serviceLogFile?f.createReadStream(this.serviceLogFile):t.stderr,n=h.createInterface({input:i});return new Promise((e,i)=>{t.on("close",e=>{i(new Error(`keybase service exited with code ${e}:`))}),n.on("line",t=>{t.indexOf("net.Listen on unix:keybased.sock")&&e()})})}}const y={chat:1,team:1,wallet:1};class g{constructor(){this.initialized=!1,this.verbose=!1,this.spawnedProcesses=[]}async _init(e,t){const i=await x(e);this.homeDir=e,this.username=i.username,this.devicename=i.devicename}async _deinit(){for(const e of this.spawnedProcesses)e.kill()}async _runApiCommand(e){const t=e.options?function e(t,i){return null==t||"object"!=typeof t?t:Array.isArray(t)?t.map(t=>e(t,i)):Object.keys(t).reduce((n,a)=>{let u;return u="wallet"===i?o(a):r(a),"object"==typeof t[a]?{...n,[u]:e(t[a],i)}:{...n,[u]:t[a]}},{})}(e.options,e.apiName):void 0,i={method:e.method,params:{version:y[e.apiName],options:t}},n=JSON.stringify(i),a=n.length,u=await p(this.homeDir,[e.apiName,"api"],{stdinBuffer:Buffer.alloc(a,n,"utf8"),json:!0});if(u.hasOwnProperty("error"))throw new Error(u.error.message);return m(u.result)}async _guardInitialized(){if("paperkey"!==this.initialized){const e=await x(this.homeDir);if(!this.username||e.username!==this.username||e.devicename!==this.devicename)throw new Error("The bot service has changed since this bot was spawned.")}}}class v extends g{async list(e){await this._guardInitialized();const t=await this._runApiCommand({apiName:"chat",method:"list",options:e});if(!t)throw new Error("Keybase chat list returned nothing.");return t.conversations||[]}async read(e,t){await this._guardInitialized();const i={...t,channel:e,peek:!(!t||!t.peek)&&t.peek,unreadOnly:!(!t||void 0===t.unreadOnly)&&t.unreadOnly},n=await this._runApiCommand({apiName:"chat",method:"read",options:i});if(!n)throw new Error("Keybase chat read returned nothing.");return n.messages.map(e=>e.msg)}async send(e,t,i){await this._guardInitialized();const n={...i,channel:e,message:t};if(!await this._runApiCommand({apiName:"chat",method:"send",options:n}))throw new Error("Keybase chat send returned nothing")}async react(e,t,i,n){await this._guardInitialized();const r={...n,channel:e,messageId:t,message:{body:i}};if(!await this._runApiCommand({apiName:"chat",method:"reaction",options:r}))throw new Error("Keybase chat react returned nothing.")}async delete(e,t,i){await this._guardInitialized();const n={...i,channel:e,messageId:t};if(!await this._runApiCommand({apiName:"chat",method:"delete",options:n}))throw new Error("Keybase chat delete returned nothing.")}async watchChannelForNewMessages(e,t,i){await this._guardInitialized(),this._chatListen(t,i,e)}async watchAllChannelsForNewMessages(e,t){await this._guardInitialized(),this._chatListen(e,t)}_chatListen(e,t,i){const n=["chat","api-listen"];this.homeDir&&n.unshift("--home",this.homeDir);const r=l.spawn("keybase",n);this.spawnedProcesses.push(r);h.createInterface({input:r.stdout}).on("line",n=>{try{const r=m(JSON.parse(n));if(r.hasOwnProperty("error"))throw new Error(r.error);i&&i.name!==r.msg.channel.name||!this.username||!this.devicename||r.msg.sender.username===this.username.toLowerCase()&&r.msg.sender.deviceName===this.devicename||e(r.msg)}catch(e){t&&t(e)}})}}class E extends g{async balances(){await this._guardInitialized();const e=await this._runApiCommand({apiName:"wallet",method:"balances"});if(!e)throw new Error("Keybase wallet balanaces returned nothing.");return e||[]}async history(e){await this._guardInitialized();const t={accountId:e},i=await this._runApiCommand({apiName:"wallet",method:"history",options:t});if(!i)throw new Error("Keybase wallet history returned nothing.");return i.map(e=>e.payment)}async details(e){await this._guardInitialized();const t={txid:e},i=await this._runApiCommand({apiName:"wallet",method:"details",options:t});if(!i)throw new Error("Keybase wallet details returned nothing.");return i}async lookup(e){await this._guardInitialized();const t={name:e},i=await this._runApiCommand({apiName:"wallet",method:"lookup",options:t});if(!i)throw new Error("Keybase wallet lookup returned nothing.");return i}async send(e,t,i,n){await this._guardInitialized();const r={recipient:e,amount:t,currency:i,message:n},a=await this._runApiCommand({apiName:"wallet",method:"send",options:r});if(!a)throw new Error("Keybase wallet send returned nothing.");return a}async batch(e,t){await this._guardInitialized();const i={batchId:e,payments:t},n=await this._runApiCommand({apiName:"wallet",method:"batch",options:i});if(!n)throw new Error("Keybase wallet batch returned nothing.");return n}async cancel(e){await this._guardInitialized();const t={txid:e};if(!await this._runApiCommand({apiName:"wallet",method:"cancel",options:t}))throw new Error("Keybase wallet cancel returned nothing.")}}e.exports=class{constructor(){this._service=new b,this.chat=new v,this.wallet=new E}async init(e,t,i){await this._service.init(e,t,i),await this._initSubBots(i)}async initFromRunningService(e,t){await this._service.initFromRunningService(e,t),await this._initSubBots(t)}myInfo(){return this._service.myInfo()}async deinit(){await this.chat._deinit(),await this._service.deinit()}async _initSubBots(e){const t=this.myInfo();if(!t)throw new Error("Issue initializing bot.");await this.chat._init(t.homeDir,e),await this.wallet._init(t.homeDir,e)}}},function(e,t){var i=1/0,n="[object Symbol]",r=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,a=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,o="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",u="["+o+"]",s="[\\u0300-\\u036f\\ufe20-\\ufe23\\u20d0-\\u20f0]",c="\\d+",f="[\\u2700-\\u27bf]",d="[a-z\\xdf-\\xf6\\xf8-\\xff]",l="[^\\ud800-\\udfff"+o+c+"\\u2700-\\u27bfa-z\\xdf-\\xf6\\xf8-\\xffA-Z\\xc0-\\xd6\\xd8-\\xde]",h="(?:\\ud83c[\\udde6-\\uddff]){2}",m="[\\ud800-\\udbff][\\udc00-\\udfff]",p="[A-Z\\xc0-\\xd6\\xd8-\\xde]",x="(?:"+d+"|"+l+")",w="(?:"+p+"|"+l+")",b="(?:[\\u0300-\\u036f\\ufe20-\\ufe23\\u20d0-\\u20f0]|\\ud83c[\\udffb-\\udfff])?",y="[\\ufe0e\\ufe0f]?"+b+("(?:\\u200d(?:"+["[^\\ud800-\\udfff]",h,m].join("|")+")[\\ufe0e\\ufe0f]?"+b+")*"),g="(?:"+[f,h,m].join("|")+")"+y,v=RegExp("['’]","g"),E=RegExp(s,"g"),A=RegExp([p+"?"+d+"+(?:['’](?:d|ll|m|re|s|t|ve))?(?="+[u,p,"$"].join("|")+")",w+"+(?:['’](?:D|LL|M|RE|S|T|VE))?(?="+[u,p+x,"$"].join("|")+")",p+"?"+x+"+(?:['’](?:d|ll|m|re|s|t|ve))?",p+"+(?:['’](?:D|LL|M|RE|S|T|VE))?",c,g].join("|"),"g"),j=/[a-z][A-Z]|[A-Z]{2,}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,O="object"==typeof global&&global&&global.Object===Object&&global,z="object"==typeof self&&self&&self.Object===Object&&self,_=O||z||Function("return this")();var S,I=(S={"À":"A","Á":"A","Â":"A","Ã":"A","Ä":"A","Å":"A","à":"a","á":"a","â":"a","ã":"a","ä":"a","å":"a","Ç":"C","ç":"c","Ð":"D","ð":"d","È":"E","É":"E","Ê":"E","Ë":"E","è":"e","é":"e","ê":"e","ë":"e","Ì":"I","Í":"I","Î":"I","Ï":"I","ì":"i","í":"i","î":"i","ï":"i","Ñ":"N","ñ":"n","Ò":"O","Ó":"O","Ô":"O","Õ":"O","Ö":"O","Ø":"O","ò":"o","ó":"o","ô":"o","õ":"o","ö":"o","ø":"o","Ù":"U","Ú":"U","Û":"U","Ü":"U","ù":"u","ú":"u","û":"u","ü":"u","Ý":"Y","ý":"y","ÿ":"y","Æ":"Ae","æ":"ae","Þ":"Th","þ":"th","ß":"ss","Ā":"A","Ă":"A","Ą":"A","ā":"a","ă":"a","ą":"a","Ć":"C","Ĉ":"C","Ċ":"C","Č":"C","ć":"c","ĉ":"c","ċ":"c","č":"c","Ď":"D","Đ":"D","ď":"d","đ":"d","Ē":"E","Ĕ":"E","Ė":"E","Ę":"E","Ě":"E","ē":"e","ĕ":"e","ė":"e","ę":"e","ě":"e","Ĝ":"G","Ğ":"G","Ġ":"G","Ģ":"G","ĝ":"g","ğ":"g","ġ":"g","ģ":"g","Ĥ":"H","Ħ":"H","ĥ":"h","ħ":"h","Ĩ":"I","Ī":"I","Ĭ":"I","Į":"I","İ":"I","ĩ":"i","ī":"i","ĭ":"i","į":"i","ı":"i","Ĵ":"J","ĵ":"j","Ķ":"K","ķ":"k","ĸ":"k","Ĺ":"L","Ļ":"L","Ľ":"L","Ŀ":"L","Ł":"L","ĺ":"l","ļ":"l","ľ":"l","ŀ":"l","ł":"l","Ń":"N","Ņ":"N","Ň":"N","Ŋ":"N","ń":"n","ņ":"n","ň":"n","ŋ":"n","Ō":"O","Ŏ":"O","Ő":"O","ō":"o","ŏ":"o","ő":"o","Ŕ":"R","Ŗ":"R","Ř":"R","ŕ":"r","ŗ":"r","ř":"r","Ś":"S","Ŝ":"S","Ş":"S","Š":"S","ś":"s","ŝ":"s","ş":"s","š":"s","Ţ":"T","Ť":"T","Ŧ":"T","ţ":"t","ť":"t","ŧ":"t","Ũ":"U","Ū":"U","Ŭ":"U","Ů":"U","Ű":"U","Ų":"U","ũ":"u","ū":"u","ŭ":"u","ů":"u","ű":"u","ų":"u","Ŵ":"W","ŵ":"w","Ŷ":"Y","ŷ":"y","Ÿ":"Y","Ź":"Z","Ż":"Z","Ž":"Z","ź":"z","ż":"z","ž":"z","Ĳ":"IJ","ĳ":"ij","Œ":"Oe","œ":"oe","ŉ":"'n","ſ":"ss"},function(e){return null==S?void 0:S[e]});var L=Object.prototype.toString,D=_.Symbol,C=D?D.prototype:void 0,N=C?C.toString:void 0;function k(e){if("string"==typeof e)return e;if(function(e){return"symbol"==typeof e||function(e){return!!e&&"object"==typeof e}(e)&&L.call(e)==n}(e))return N?N.call(e):"";var t=e+"";return"0"==t&&1/e==-i?"-0":t}function U(e){return null==e?"":k(e)}var R,Z=(R=function(e,t,i){return e+(i?"_":"")+t.toLowerCase()},function(e){return function(e,t,i,n){var r=-1,a=e?e.length:0;for(n&&a&&(i=e[++r]);++r<a;)i=t(i,e[r],r,e);return i}(function(e,t,i){return e=U(e),void 0===(t=i?void 0:t)?function(e){return j.test(e)}(e)?function(e){return e.match(A)||[]}(e):function(e){return e.match(r)||[]}(e):e.match(t)||[]}(function(e){return(e=U(e))&&e.replace(a,I).replace(E,"")}(e).replace(v,"")),R,"")});e.exports=Z},function(e,t){var i=1/0,n="[object Symbol]",r=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,a=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,o="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",u="[\\ud800-\\udfff]",s="["+o+"]",c="[\\u0300-\\u036f\\ufe20-\\ufe23\\u20d0-\\u20f0]",f="\\d+",d="[\\u2700-\\u27bf]",l="[a-z\\xdf-\\xf6\\xf8-\\xff]",h="[^\\ud800-\\udfff"+o+f+"\\u2700-\\u27bfa-z\\xdf-\\xf6\\xf8-\\xffA-Z\\xc0-\\xd6\\xd8-\\xde]",m="\\ud83c[\\udffb-\\udfff]",p="[^\\ud800-\\udfff]",x="(?:\\ud83c[\\udde6-\\uddff]){2}",w="[\\ud800-\\udbff][\\udc00-\\udfff]",b="[A-Z\\xc0-\\xd6\\xd8-\\xde]",y="(?:"+l+"|"+h+")",g="(?:"+b+"|"+h+")",v="(?:"+c+"|"+m+")"+"?",E="[\\ufe0e\\ufe0f]?"+v+("(?:\\u200d(?:"+[p,x,w].join("|")+")[\\ufe0e\\ufe0f]?"+v+")*"),A="(?:"+[d,x,w].join("|")+")"+E,j="(?:"+[p+c+"?",c,x,w,u].join("|")+")",O=RegExp("['’]","g"),z=RegExp(c,"g"),_=RegExp(m+"(?="+m+")|"+j+E,"g"),S=RegExp([b+"?"+l+"+(?:['’](?:d|ll|m|re|s|t|ve))?(?="+[s,b,"$"].join("|")+")",g+"+(?:['’](?:D|LL|M|RE|S|T|VE))?(?="+[s,b+y,"$"].join("|")+")",b+"?"+y+"+(?:['’](?:d|ll|m|re|s|t|ve))?",b+"+(?:['’](?:D|LL|M|RE|S|T|VE))?",f,A].join("|"),"g"),I=RegExp("[\\u200d\\ud800-\\udfff\\u0300-\\u036f\\ufe20-\\ufe23\\u20d0-\\u20f0\\ufe0e\\ufe0f]"),L=/[a-z][A-Z]|[A-Z]{2,}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,D="object"==typeof global&&global&&global.Object===Object&&global,C="object"==typeof self&&self&&self.Object===Object&&self,N=D||C||Function("return this")();var k,U=(k={"À":"A","Á":"A","Â":"A","Ã":"A","Ä":"A","Å":"A","à":"a","á":"a","â":"a","ã":"a","ä":"a","å":"a","Ç":"C","ç":"c","Ð":"D","ð":"d","È":"E","É":"E","Ê":"E","Ë":"E","è":"e","é":"e","ê":"e","ë":"e","Ì":"I","Í":"I","Î":"I","Ï":"I","ì":"i","í":"i","î":"i","ï":"i","Ñ":"N","ñ":"n","Ò":"O","Ó":"O","Ô":"O","Õ":"O","Ö":"O","Ø":"O","ò":"o","ó":"o","ô":"o","õ":"o","ö":"o","ø":"o","Ù":"U","Ú":"U","Û":"U","Ü":"U","ù":"u","ú":"u","û":"u","ü":"u","Ý":"Y","ý":"y","ÿ":"y","Æ":"Ae","æ":"ae","Þ":"Th","þ":"th","ß":"ss","Ā":"A","Ă":"A","Ą":"A","ā":"a","ă":"a","ą":"a","Ć":"C","Ĉ":"C","Ċ":"C","Č":"C","ć":"c","ĉ":"c","ċ":"c","č":"c","Ď":"D","Đ":"D","ď":"d","đ":"d","Ē":"E","Ĕ":"E","Ė":"E","Ę":"E","Ě":"E","ē":"e","ĕ":"e","ė":"e","ę":"e","ě":"e","Ĝ":"G","Ğ":"G","Ġ":"G","Ģ":"G","ĝ":"g","ğ":"g","ġ":"g","ģ":"g","Ĥ":"H","Ħ":"H","ĥ":"h","ħ":"h","Ĩ":"I","Ī":"I","Ĭ":"I","Į":"I","İ":"I","ĩ":"i","ī":"i","ĭ":"i","į":"i","ı":"i","Ĵ":"J","ĵ":"j","Ķ":"K","ķ":"k","ĸ":"k","Ĺ":"L","Ļ":"L","Ľ":"L","Ŀ":"L","Ł":"L","ĺ":"l","ļ":"l","ľ":"l","ŀ":"l","ł":"l","Ń":"N","Ņ":"N","Ň":"N","Ŋ":"N","ń":"n","ņ":"n","ň":"n","ŋ":"n","Ō":"O","Ŏ":"O","Ő":"O","ō":"o","ŏ":"o","ő":"o","Ŕ":"R","Ŗ":"R","Ř":"R","ŕ":"r","ŗ":"r","ř":"r","Ś":"S","Ŝ":"S","Ş":"S","Š":"S","ś":"s","ŝ":"s","ş":"s","š":"s","Ţ":"T","Ť":"T","Ŧ":"T","ţ":"t","ť":"t","ŧ":"t","Ũ":"U","Ū":"U","Ŭ":"U","Ů":"U","Ű":"U","Ų":"U","ũ":"u","ū":"u","ŭ":"u","ů":"u","ű":"u","ų":"u","Ŵ":"W","ŵ":"w","Ŷ":"Y","ŷ":"y","Ÿ":"Y","Ź":"Z","Ż":"Z","Ž":"Z","ź":"z","ż":"z","ž":"z","Ĳ":"IJ","ĳ":"ij","Œ":"Oe","œ":"oe","ŉ":"'n","ſ":"ss"},function(e){return null==k?void 0:k[e]});function R(e){return I.test(e)}function Z(e){return R(e)?function(e){return e.match(_)||[]}(e):function(e){return e.split("")}(e)}var T=Object.prototype.toString,F=N.Symbol,B=F?F.prototype:void 0,K=B?B.toString:void 0;function P(e){if("string"==typeof e)return e;if(function(e){return"symbol"==typeof e||function(e){return!!e&&"object"==typeof e}(e)&&T.call(e)==n}(e))return K?K.call(e):"";var t=e+"";return"0"==t&&1/e==-i?"-0":t}function G(e,t,i){var n=e.length;return i=void 0===i?n:i,!t&&i>=n?e:function(e,t,i){var n=-1,r=e.length;t<0&&(t=-t>r?0:r+t),(i=i>r?r:i)<0&&(i+=r),r=t>i?0:i-t>>>0,t>>>=0;for(var a=Array(r);++n<r;)a[n]=e[n+t];return a}(e,t,i)}function M(e){return null==e?"":P(e)}var J,Y=(J=function(e,t,i){return t=t.toLowerCase(),e+(i?q(M(t).toLowerCase()):t)},function(e){return function(e,t,i,n){var r=-1,a=e?e.length:0;for(n&&a&&(i=e[++r]);++r<a;)i=t(i,e[r],r,e);return i}(function(e,t,i){return e=M(e),void 0===(t=i?void 0:t)?function(e){return L.test(e)}(e)?function(e){return e.match(S)||[]}(e):function(e){return e.match(r)||[]}(e):e.match(t)||[]}(function(e){return(e=M(e))&&e.replace(a,U).replace(z,"")}(e).replace(O,"")),J,"")});var $,q=($="toUpperCase",function(e){var t=R(e=M(e))?Z(e):void 0,i=t?t[0]:e.charAt(0),n=t?G(t,1).join(""):e.slice(1);return i[$]()+n});e.exports=Y},function(e,t){var i=1/0,n="[object Symbol]",r=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,a=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,o="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",u="["+o+"]",s="[\\u0300-\\u036f\\ufe20-\\ufe23\\u20d0-\\u20f0]",c="\\d+",f="[\\u2700-\\u27bf]",d="[a-z\\xdf-\\xf6\\xf8-\\xff]",l="[^\\ud800-\\udfff"+o+c+"\\u2700-\\u27bfa-z\\xdf-\\xf6\\xf8-\\xffA-Z\\xc0-\\xd6\\xd8-\\xde]",h="(?:\\ud83c[\\udde6-\\uddff]){2}",m="[\\ud800-\\udbff][\\udc00-\\udfff]",p="[A-Z\\xc0-\\xd6\\xd8-\\xde]",x="(?:"+d+"|"+l+")",w="(?:"+p+"|"+l+")",b="(?:[\\u0300-\\u036f\\ufe20-\\ufe23\\u20d0-\\u20f0]|\\ud83c[\\udffb-\\udfff])?",y="[\\ufe0e\\ufe0f]?"+b+("(?:\\u200d(?:"+["[^\\ud800-\\udfff]",h,m].join("|")+")[\\ufe0e\\ufe0f]?"+b+")*"),g="(?:"+[f,h,m].join("|")+")"+y,v=RegExp("['’]","g"),E=RegExp(s,"g"),A=RegExp([p+"?"+d+"+(?:['’](?:d|ll|m|re|s|t|ve))?(?="+[u,p,"$"].join("|")+")",w+"+(?:['’](?:D|LL|M|RE|S|T|VE))?(?="+[u,p+x,"$"].join("|")+")",p+"?"+x+"+(?:['’](?:d|ll|m|re|s|t|ve))?",p+"+(?:['’](?:D|LL|M|RE|S|T|VE))?",c,g].join("|"),"g"),j=/[a-z][A-Z]|[A-Z]{2,}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,O="object"==typeof global&&global&&global.Object===Object&&global,z="object"==typeof self&&self&&self.Object===Object&&self,_=O||z||Function("return this")();var S,I=(S={"À":"A","Á":"A","Â":"A","Ã":"A","Ä":"A","Å":"A","à":"a","á":"a","â":"a","ã":"a","ä":"a","å":"a","Ç":"C","ç":"c","Ð":"D","ð":"d","È":"E","É":"E","Ê":"E","Ë":"E","è":"e","é":"e","ê":"e","ë":"e","Ì":"I","Í":"I","Î":"I","Ï":"I","ì":"i","í":"i","î":"i","ï":"i","Ñ":"N","ñ":"n","Ò":"O","Ó":"O","Ô":"O","Õ":"O","Ö":"O","Ø":"O","ò":"o","ó":"o","ô":"o","õ":"o","ö":"o","ø":"o","Ù":"U","Ú":"U","Û":"U","Ü":"U","ù":"u","ú":"u","û":"u","ü":"u","Ý":"Y","ý":"y","ÿ":"y","Æ":"Ae","æ":"ae","Þ":"Th","þ":"th","ß":"ss","Ā":"A","Ă":"A","Ą":"A","ā":"a","ă":"a","ą":"a","Ć":"C","Ĉ":"C","Ċ":"C","Č":"C","ć":"c","ĉ":"c","ċ":"c","č":"c","Ď":"D","Đ":"D","ď":"d","đ":"d","Ē":"E","Ĕ":"E","Ė":"E","Ę":"E","Ě":"E","ē":"e","ĕ":"e","ė":"e","ę":"e","ě":"e","Ĝ":"G","Ğ":"G","Ġ":"G","Ģ":"G","ĝ":"g","ğ":"g","ġ":"g","ģ":"g","Ĥ":"H","Ħ":"H","ĥ":"h","ħ":"h","Ĩ":"I","Ī":"I","Ĭ":"I","Į":"I","İ":"I","ĩ":"i","ī":"i","ĭ":"i","į":"i","ı":"i","Ĵ":"J","ĵ":"j","Ķ":"K","ķ":"k","ĸ":"k","Ĺ":"L","Ļ":"L","Ľ":"L","Ŀ":"L","Ł":"L","ĺ":"l","ļ":"l","ľ":"l","ŀ":"l","ł":"l","Ń":"N","Ņ":"N","Ň":"N","Ŋ":"N","ń":"n","ņ":"n","ň":"n","ŋ":"n","Ō":"O","Ŏ":"O","Ő":"O","ō":"o","ŏ":"o","ő":"o","Ŕ":"R","Ŗ":"R","Ř":"R","ŕ":"r","ŗ":"r","ř":"r","Ś":"S","Ŝ":"S","Ş":"S","Š":"S","ś":"s","ŝ":"s","ş":"s","š":"s","Ţ":"T","Ť":"T","Ŧ":"T","ţ":"t","ť":"t","ŧ":"t","Ũ":"U","Ū":"U","Ŭ":"U","Ů":"U","Ű":"U","Ų":"U","ũ":"u","ū":"u","ŭ":"u","ů":"u","ű":"u","ų":"u","Ŵ":"W","ŵ":"w","Ŷ":"Y","ŷ":"y","Ÿ":"Y","Ź":"Z","Ż":"Z","Ž":"Z","ź":"z","ż":"z","ž":"z","Ĳ":"IJ","ĳ":"ij","Œ":"Oe","œ":"oe","ŉ":"'n","ſ":"ss"},function(e){return null==S?void 0:S[e]});var L=Object.prototype.toString,D=_.Symbol,C=D?D.prototype:void 0,N=C?C.toString:void 0;function k(e){if("string"==typeof e)return e;if(function(e){return"symbol"==typeof e||function(e){return!!e&&"object"==typeof e}(e)&&L.call(e)==n}(e))return N?N.call(e):"";var t=e+"";return"0"==t&&1/e==-i?"-0":t}function U(e){return null==e?"":k(e)}var R,Z=(R=function(e,t,i){return e+(i?"-":"")+t.toLowerCase()},function(e){return function(e,t,i,n){var r=-1,a=e?e.length:0;for(n&&a&&(i=e[++r]);++r<a;)i=t(i,e[r],r,e);return i}(function(e,t,i){return e=U(e),void 0===(t=i?void 0:t)?function(e){return j.test(e)}(e)?function(e){return e.match(A)||[]}(e):function(e){return e.match(r)||[]}(e):e.match(t)||[]}(function(e){return(e=U(e))&&e.replace(a,I).replace(E,"")}(e).replace(v,"")),R,"")});e.exports=Z},function(e,t){e.exports=require("os")},function(e,t){e.exports=require("crypto")},function(e,t){e.exports=require("path")},function(e,t){e.exports=require("fs")},function(e,t){e.exports=require("util")},function(e,t){e.exports=require("child_process")},function(e,t){e.exports=require("readline")},function(e,t,i){"use strict";i.r(t);var n=i(0),r=new(i.n(n).a);r.init("kb_kirabot","analyst adult blind pig antique rug panther rubber observe stool say picture toast",{verbose:!1}).then(function(){console.log("init - done"),console.log(r),r.deinit()})}]);